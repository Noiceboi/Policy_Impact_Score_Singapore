<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Interactive Dashboard - Singapore Policy Impact Assessment</title>        <meta name="description" content="Interactive dashboard for Singapore policy impact analysis with real-time data visualization">    <meta name="keywords" content="Singapore, policy dashboard, data visualization, government effectiveness">        <link rel="stylesheet" href="../assets/css/main.css">    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>        <style>        body {            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;            background-color: #f5f7fa;            margin: 0;            padding: 0;        }                .dashboard-container {            max-width: 1400px;            margin: 0 auto;            padding: 20px;        }                .header-section {            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);            color: white;            padding: 40px;            border-radius: 15px;            margin-bottom: 30px;            text-align: center;        }                .header-section h1 {            font-size: 2.5em;            margin-bottom: 10px;        }                .header-section p {            font-size: 1.2em;            opacity: 0.9;        }                .stats-grid {            display: grid;            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));            gap: 20px;            margin-bottom: 30px;        }                .stat-card {            background: linear-gradient(135deg, #2C5282, #4299E1);            color: white;            padding: 25px;            border-radius: 15px;            text-align: center;            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);            transition: transform 0.3s ease;        }                .stat-card:hover {            transform: translateY(-5px);        }                .stat-value {            font-size: 2.5em;            font-weight: bold;            margin-bottom: 10px;        }                .stat-label {            font-size: 1em;            opacity: 0.9;        }                .dashboard-grid {            display: grid;            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));            gap: 25px;            margin-bottom: 30px;        }                .chart-container {            background: white;            border-radius: 15px;            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);            padding: 25px;            min-height: 400px;        }                .chart-title {            font-size: 1.3em;            font-weight: bold;            margin-bottom: 20px;            color: #2C5282;            text-align: center;            padding-bottom: 15px;            border-bottom: 3px solid #e2e8f0;        }                .filters-section {            background: white;            padding: 25px;            border-radius: 15px;            margin-bottom: 30px;            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);        }                .filter-group {            display: flex;            flex-wrap: wrap;            gap: 20px;            align-items: center;        }                .filter-group label {            font-weight: bold;            color: #2C5282;            min-width: 120px;        }                .filter-group select, .filter-group input {            padding: 10px 15px;            border: 2px solid #e2e8f0;            border-radius: 8px;            font-size: 14px;            transition: border-color 0.3s ease;        }                .filter-group select:focus, .filter-group input:focus {            outline: none;            border-color: #4299E1;        }                .data-table-container {            background: white;            border-radius: 15px;            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);            overflow: hidden;            margin-top: 30px;        }                .data-table {            width: 100%;            border-collapse: collapse;        }                .data-table th, .data-table td {            padding: 15px;            text-align: left;            border-bottom: 1px solid #e2e8f0;        }                .data-table th {            background: #2C5282;            color: white;            font-weight: bold;        }                .data-table tr:hover {            background: #f7fafc;        }                .export-buttons {            margin: 20px 0;            text-align: center;        }                .export-btn {            background: #4299E1;            color: white;            padding: 10px 20px;            border: none;            border-radius: 8px;            margin: 0 10px;            cursor: pointer;            transition: background 0.3s ease;        }                .export-btn:hover {            background: #2C5282;        }                .nav-bar {            background: #2C5282;            padding: 15px 0;            margin-bottom: 30px;        }                .nav-container {            max-width: 1400px;            margin: 0 auto;            display: flex;            justify-content: center;            align-items: center;        }                .nav-bar a {            color: white;            text-decoration: none;            padding: 10px 20px;            margin: 0 10px;            border-radius: 5px;            transition: background 0.3s ease;        }                .nav-bar a:hover {            background: #4299E1;        }                @media (max-width: 768px) {            .dashboard-grid {                grid-template-columns: 1fr;            }                        .stats-grid {                grid-template-columns: repeat(2, 1fr);            }                        .filter-group {                flex-direction: column;                align-items: flex-start;            }        }    </style></head><body>    <!-- Navigation -->    <nav class="nav-bar">        <div class="nav-container">            <a href="../index.html">Home</a>            <a href="methodology.html">Methodology</a>            <a href="dashboard.html" style="background: #4299E1;">Dashboard</a>            <a href="findings.html">Findings</a>            <a href="validation.html">Validation</a>            <a href="data-sources.html">Data Sources</a>        </div>    </nav>    <div class="dashboard-container">        <!-- Header Section -->        <div class="header-section">            <h1>Policy Impact Dashboard</h1>            <p>Real-time analysis of Singapore government policy effectiveness</p>        </div>        <!-- Key Statistics -->        <div class="stats-grid">            <div class="stat-card">                <div class="stat-value" id="totalPolicies">16</div>                <div class="stat-label">Total Policies Analyzed</div>            </div>            <div class="stat-card">                <div class="stat-value" id="verifiedPolicies">13</div>                <div class="stat-label">Policies Verified</div>            </div>            <div class="stat-card">                <div class="stat-value">87.6</div>                <div class="stat-label">Transparency Score</div>            </div>            <div class="stat-card">                <div class="stat-value">88%</div>                <div class="stat-label">Scientific Confidence</div>            </div>        </div>        <!-- Filters -->        <div class="filters-section">            <h3>Filter & Analysis Options</h3>            <div class="filter-group">                <label for="categoryFilter">Policy Category:</label>                <select id="categoryFilter">                    <option value="">All Categories</option>                    <option value="An sinh xã hội">An sinh xã hội</option>                    <option value="Giữ gìn trật tự đô thị">Giữ gìn trật tự đô thị</option>                    <option value="Phát triển kinh tế">Phát triển kinh tế</option>                    <option value="Giáo dục & Đào tạo">Giáo dục & Đào tạo</option>                    <option value="Y tế công cộng">Y tế công cộng</option>                </select>                                <label for="yearFilter">Implementation Year:</label>                <select id="yearFilter">                    <option value="">All Years</option>                    <option value="2020">2020</option>                    <option value="2021">2021</option>                    <option value="2022">2022</option>                    <option value="2023">2023</option>                    <option value="2024">2024</option>                </select>                                <label for="scoreFilter">Min Impact Score:</label>                <input type="range" id="scoreFilter" min="1" max="5" step="0.1" value="1">                <span id="scoreValue">1.0</span>            </div>        </div>        <!-- Charts Grid -->        <div class="dashboard-grid">            <!-- Policy Impact by Category -->            <div class="chart-container">                <div class="chart-title">Policy Impact by Category</div>                <canvas id="categoryChart"></canvas>            </div>            <!-- Implementation Timeline -->            <div class="chart-container">                <div class="chart-title">Policy Implementation Timeline</div>                <canvas id="timelineChart"></canvas>            </div>            <!-- Scoring Dimensions -->            <div class="chart-container">                <div class="chart-title">Average Scoring Dimensions</div>                <canvas id="dimensionsChart"></canvas>            </div>            <!-- Verification Status -->            <div class="chart-container">                <div class="chart-title">Policy Verification Status</div>                <canvas id="verificationChart"></canvas>            </div>        </div>        <!-- International Validation Heatmap -->        <div class="chart-container" style="grid-column: 1/-1;">            <div class="chart-title">International Validation Heatmap</div>            <div id="heatmapChart" style="height: 500px;"></div>        </div>        <!-- Export Options -->        <div class="export-buttons">            <button class="export-btn" onclick="exportData('csv')">Export CSV</button>            <button class="export-btn" onclick="exportData('json')">Export JSON</button>            <button class="export-btn" onclick="exportCharts()">Export Charts</button>        </div>        <!-- Data Table -->        <div class="data-table-container">            <div class="chart-title">Detailed Policy Data</div>            <table class="data-table" id="policyTable">                <thead>                    <tr>                        <th>Policy Name</th>                        <th>Category</th>                        <th>Year</th>                        <th>Impact Score</th>                        <th>Verification Status</th>                        <th>Actions</th>                    </tr>                </thead>                <tbody id="policyTableBody">                    <!-- Data will be populated by JavaScript -->                </tbody>            </table>        </div>    </div>    <script>        // Sample data for demonstration        const samplePolicies = [            {                "name": "Central Provident Fund (CPF)",                "category": "An sinh xã hội",                "year": 2023,                "impact_score": 4.2,                "verification_status": "Verified",                "scope": 4.5,                "magnitude": 4.0,                "durability": 4.8,                "adaptability": 3.8,                "cross_referencing": 4.1            },            {                "name": "Housing Development Act",                "category": "Giữ gìn trật tự đô thị",                "year": 2022,                "impact_score": 4.0,                "verification_status": "Verified",                "scope": 4.2,                "magnitude": 3.8,                "durability": 4.5,                "adaptability": 3.5,                "cross_referencing": 4.0            },            {                "name": "Goods and Services Tax (GST)",                "category": "Phát triển kinh tế",                "year": 2021,                "impact_score": 3.8,                "verification_status": "Verified",                "scope": 4.0,                "magnitude": 3.5,                "durability": 4.2,                "adaptability": 3.8,                "cross_referencing": 3.7            },            {                "name": "SkillsFuture Initiative",                "category": "Giáo dục & Đào tạo",                "year": 2024,                "impact_score": 4.1,                "verification_status": "Verified",                "scope": 3.8,                "magnitude": 4.2,                "durability": 4.0,                "adaptability": 4.5,                "cross_referencing": 4.0            },            {                "name": "Healthier SG",                "category": "Y tế công cộng",                "year": 2023,                "impact_score": 3.9,                "verification_status": "Verified",                "scope": 4.0,                "magnitude": 3.8,                "durability": 4.2,                "adaptability": 3.6,                "cross_referencing": 3.9            }        ];        let allPolicies = samplePolicies;        let filteredPolicies = samplePolicies;        let charts = {};        // Initialize dashboard        document.addEventListener('DOMContentLoaded', function() {            console.log('Dashboard initializing...');            initializeCharts();            populateTable();            setupFilters();            updateStatistics();        });        // Initialize all charts        function initializeCharts() {            try {                createCategoryChart();                createTimelineChart();                createDimensionsChart();                createVerificationChart();                createHeatmapChart();                console.log('All charts initialized successfully');            } catch (error) {                console.error('Error initializing charts:', error);            }        }        // Create category chart        function createCategoryChart() {            const ctx = document.getElementById('categoryChart').getContext('2d');            const categories = {};                        filteredPolicies.forEach(policy => {                categories[policy.category] = (categories[policy.category] || 0) + 1;            });            charts.categoryChart = new Chart(ctx, {                type: 'doughnut',                data: {                    labels: Object.keys(categories),                    datasets: [{                        data: Object.values(categories),                        backgroundColor: [                            '#FF6384',                            '#36A2EB',                            '#FFCE56',                            '#4BC0C0',                            '#9966FF',                            '#FF9F40'                        ],                        borderWidth: 2,                        borderColor: '#fff'                    }]                },                options: {                    responsive: true,                    maintainAspectRatio: false,                    plugins: {                        legend: {                            position: 'bottom',                            labels: {                                padding: 20,                                usePointStyle: true                            }                        },                        tooltip: {                            callbacks: {                                label: function(context) {                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);                                    const percentage = ((context.parsed / total) * 100).toFixed(1);                                    return context.label + ': ' + context.parsed + ' (' + percentage + '%)';                                }                            }                        }                    }                }            });        }        // Create timeline chart        function createTimelineChart() {            const ctx = document.getElementById('timelineChart').getContext('2d');            const years = {};                        filteredPolicies.forEach(policy => {                years[policy.year] = (years[policy.year] || 0) + 1;            });            const sortedYears = Object.keys(years).sort();                        charts.timelineChart = new Chart(ctx, {                type: 'line',                data: {                    labels: sortedYears,                    datasets: [{                        label: 'Policies Implemented',                        data: sortedYears.map(year => years[year]),                        borderColor: '#36A2EB',                        backgroundColor: 'rgba(54, 162, 235, 0.1)',                        borderWidth: 3,                        fill: true,                        tension: 0.4,                        pointBackgroundColor: '#36A2EB',                        pointBorderColor: '#fff',                        pointBorderWidth: 2,                        pointRadius: 6                    }]                },                options: {                    responsive: true,                    maintainAspectRatio: false,                    plugins: {                        legend: {                            display: false                        }                    },                    scales: {                        y: {                            beginAtZero: true,                            ticks: {                                stepSize: 1                            }                        }                    }                }            });        }        // Create dimensions chart        function createDimensionsChart() {            const ctx = document.getElementById('dimensionsChart').getContext('2d');                        const dimensions = ['scope', 'magnitude', 'durability', 'adaptability', 'cross_referencing'];            const averages = dimensions.map(dim => {                const sum = filteredPolicies.reduce((acc, policy) => acc + (policy[dim] || 0), 0);                return (sum / filteredPolicies.length).toFixed(2);            });            charts.dimensionsChart = new Chart(ctx, {                type: 'radar',                data: {                    labels: ['Scope', 'Magnitude', 'Durability', 'Adaptability', 'Cross-referencing'],                    datasets: [{                        label: 'Average Scores',                        data: averages,                        backgroundColor: 'rgba(255, 99, 132, 0.2)',                        borderColor: 'rgba(255, 99, 132, 1)',                        borderWidth: 2,                        pointBackgroundColor: 'rgba(255, 99, 132, 1)',                        pointBorderColor: '#fff',                        pointHoverBackgroundColor: '#fff',                        pointHoverBorderColor: 'rgba(255, 99, 132, 1)'                    }]                },                options: {                    responsive: true,                    maintainAspectRatio: false,                    plugins: {                        legend: {                            display: false                        }                    },                    scales: {                        r: {                            beginAtZero: true,                            max: 5,                            ticks: {                                stepSize: 1                            }                        }                    }                }            });        }        // Create verification chart        function createVerificationChart() {            const ctx = document.getElementById('verificationChart').getContext('2d');                        const verificationStatus = {};            filteredPolicies.forEach(policy => {                verificationStatus[policy.verification_status] = (verificationStatus[policy.verification_status] || 0) + 1;            });            charts.verificationChart = new Chart(ctx, {                type: 'bar',                data: {                    labels: Object.keys(verificationStatus),                    datasets: [{                        label: 'Number of Policies',                        data: Object.values(verificationStatus),                        backgroundColor: [                            '#4BC0C0',                            '#FF6384',                            '#FFCE56'                        ],                        borderColor: [                            '#4BC0C0',                            '#FF6384',                            '#FFCE56'                        ],                        borderWidth: 2                    }]                },                options: {                    responsive: true,                    maintainAspectRatio: false,                    plugins: {                        legend: {                            display: false                        }                    },                    scales: {                        y: {                            beginAtZero: true,                            ticks: {                                stepSize: 1                            }                        }                    }                }            });        }        // Create heatmap chart using Plotly        function createHeatmapChart() {            const policies = filteredPolicies.map(p => p.name.length > 20 ? p.name.substring(0, 20) + '...' : p.name);            const organizations = ['World Bank', 'OECD', 'IMF', 'UN-HABITAT', 'Asian Development Bank'];                        // Generate sample heatmap data            const z = [];            for (let i = 0; i < policies.length; i++) {                const row = [];                for (let j = 0; j < organizations.length; j++) {                    row.push(Math.random() * 4 + 1); // Random scores between 1-5                }                z.push(row);            }            const data = [{                z: z,                x: organizations,                y: policies,                type: 'heatmap',                colorscale: [                    [0, '#FF6B6B'],                    [0.25, '#FFE66D'],                    [0.5, '#4ECDC4'],                    [0.75, '#45B7D1'],                    [1, '#96CEB4']                ],                showscale: true,                colorbar: {                    title: 'Score (1-5)',                    titleside: 'right'                }            }];            const layout = {                title: {                    text: 'International Organization Validation Scores',                    font: { size: 16 }                },                xaxis: {                    title: 'International Organizations',                    side: 'bottom'                },                yaxis: {                    title: 'Policies'                },                margin: { t: 60, r: 100, b: 100, l: 200 }            };            Plotly.newPlot('heatmapChart', data, layout, {responsive: true});        }        // Setup filters        function setupFilters() {            document.getElementById('categoryFilter').addEventListener('change', applyFilters);            document.getElementById('yearFilter').addEventListener('change', applyFilters);            document.getElementById('scoreFilter').addEventListener('input', function() {                document.getElementById('scoreValue').textContent = this.value;                applyFilters();            });        }        // Apply filters        function applyFilters() {            const categoryFilter = document.getElementById('categoryFilter').value;            const yearFilter = document.getElementById('yearFilter').value;            const scoreFilter = parseFloat(document.getElementById('scoreFilter').value);            filteredPolicies = allPolicies.filter(policy => {                const categoryMatch = !categoryFilter || policy.category === categoryFilter;                const yearMatch = !yearFilter || policy.year.toString() === yearFilter;                const scoreMatch = policy.impact_score >= scoreFilter;                                return categoryMatch && yearMatch && scoreMatch;            });            updateCharts();            populateTable();            updateStatistics();        }        // Update all charts        function updateCharts() {            Object.values(charts).forEach(chart => {                if (chart && typeof chart.destroy === 'function') {                    chart.destroy();                }            });                        initializeCharts();        }        // Populate data table        function populateTable() {            const tbody = document.getElementById('policyTableBody');            tbody.innerHTML = '';            filteredPolicies.forEach((policy, index) => {                const row = tbody.insertRow();                row.innerHTML = `                    <td>${policy.name}</td>                    <td>${policy.category}</td>                    <td>${policy.year}</td>                    <td>${policy.impact_score.toFixed(1)}</td>                    <td>                        <span style="color: ${policy.verification_status === 'Verified' ? '#28a745' : '#dc3545'};">                            ${policy.verification_status}                        </span>                    </td>                    <td>                        <button onclick="viewPolicyDetails(${index})" style="padding: 5px 10px; background: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer;">                            View Details                        </button>                    </td>                `;            });        }        // Update statistics        function updateStatistics() {            document.getElementById('totalPolicies').textContent = filteredPolicies.length;            document.getElementById('verifiedPolicies').textContent =                 filteredPolicies.filter(p => p.verification_status === 'Verified').length;        }        // View policy details        function viewPolicyDetails(index) {            const policy = filteredPolicies[index];            alert(`Policy Details:\n\nName: ${policy.name}\nCategory: ${policy.category}\nYear: ${policy.year}\nImpact Score: ${policy.impact_score}\n\nDimension Scores:\n- Scope: ${policy.scope}\n- Magnitude: ${policy.magnitude}\n- Durability: ${policy.durability}\n- Adaptability: ${policy.adaptability}\n- Cross-referencing: ${policy.cross_referencing}`);        }        // Export functions        function exportData(format) {            if (format === 'csv') {                const csv = convertToCSV(filteredPolicies);                downloadFile(csv, 'policy_data.csv', 'text/csv');            } else if (format === 'json') {                const json = JSON.stringify(filteredPolicies, null, 2);                downloadFile(json, 'policy_data.json', 'application/json');            }        }        function convertToCSV(data) {            const headers = Object.keys(data[0]);            const csvRows = [headers.join(',')];                        data.forEach(row => {                const values = headers.map(header => {                    const value = row[header];                    return typeof value === 'string' ? `"${value}"` : value;                });                csvRows.push(values.join(','));            });                        return csvRows.join('\n');        }        function downloadFile(content, filename, contentType) {            const blob = new Blob([content], { type: contentType });            const url = URL.createObjectURL(blob);            const link = document.createElement('a');            link.href = url;            link.download = filename;            link.click();            URL.revokeObjectURL(url);        }        function exportCharts() {            alert('Chart export functionality would be implemented here. For now, you can right-click on charts to save as images.');        }        // Error handling        window.addEventListener('error', function(e) {            console.error('Dashboard error:', e.error);        });        // Add some sample interaction        console.log('Singapore Policy Impact Dashboard loaded successfully!');    </script></body></html>